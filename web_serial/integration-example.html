<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32-Seriesé›†æˆesptool-jsç¤ºä¾‹</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .code-block {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 10px;
            border-radius: 4px;
            border-left: 4px solid #ffeb3b;
        }
    </style>
</head>
<body>
    <h1>ESP32-Seriesé›†æˆesptool-jså®Œæ•´æ–¹æ¡ˆ</h1>
    
    <div class="section">
        <h2>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ esptool-jsä¾èµ–</h2>
        
        <h3>æ–¹æ¡ˆAï¼šCDNæ–¹å¼ï¼ˆæ¨èï¼‰</h3>
        <div class="code-block"><!-- åœ¨index.htmlçš„&lt;head&gt;æ ‡ç­¾ä¸­æ·»åŠ  -->
&lt;script src="https://unpkg.com/esptool-js@latest/bundle.js">&lt;/script></div>
        
        <h3>æ–¹æ¡ˆBï¼šæœ¬åœ°æ–‡ä»¶æ–¹å¼</h3>
        <div class="code-block"># ä¸‹è½½esptool-jsåˆ°æœ¬åœ°
# 1. ä»GitHubä¸‹è½½æœ€æ–°ç‰ˆæœ¬
# 2. å°†bundle.jsæ–‡ä»¶æ”¾åˆ°web_serial/third_party/ç›®å½•
# 3. åœ¨HTMLä¸­å¼•ç”¨æœ¬åœ°æ–‡ä»¶

&lt;script src="./third_party/esptool-js/bundle.js">&lt;/script></div>
    </div>

    <div class="section">
        <h2>ç¬¬äºŒæ­¥ï¼šä¿®æ”¹index.html</h2>
        <p>åœ¨web_serial/index.htmlçš„&lt;head&gt;æ ‡ç­¾ä¸­æ·»åŠ esptool-jså¼•ç”¨ï¼š</p>
        
        <div class="code-block">&lt;!-- åœ¨ç°æœ‰çš„scriptæ ‡ç­¾ä¹‹å‰æ·»åŠ  -->
&lt;script src="https://unpkg.com/esptool-js@latest/bundle.js">&lt;/script>

&lt;!-- ç„¶åæ˜¯ç°æœ‰çš„è„šæœ¬ -->
&lt;script src="script-clean.js">&lt;/script>
&lt;script src="downloaders/downloader-manager.js">&lt;/script></div>
    </div>

    <div class="section">
        <h2>ç¬¬ä¸‰æ­¥ï¼šéªŒè¯é›†æˆæ•ˆæœ</h2>
        
        <div class="highlight">
            <strong>ç°åœ¨æ‚¨å¯ä»¥æµ‹è¯•ESP32-SeriesåŠŸèƒ½ï¼š</strong>
            <ul>
                <li>æ‰“å¼€web_serial/index.html</li>
                <li>é€‰æ‹©"å›ºä»¶ä¸‹è½½"é€‰é¡¹å¡</li>
                <li>ç›®æ ‡è®¾å¤‡é€‰æ‹©"ESP32-Series (è‡ªåŠ¨æ£€æµ‹)"</li>
                <li>ä¸Šä¼ å›ºä»¶æ–‡ä»¶å¹¶ç‚¹å‡»"å¼€å§‹ä¸‹è½½"</li>
            </ul>
        </div>
    </div>

    <div class="section">
        <h2>ESP32-Seriesä¸‹è½½å™¨ç‰¹æ€§</h2>
        
        <h3>âœ… å·²å®ç°çš„åŠŸèƒ½ï¼š</h3>
        <ul>
            <li><strong>è‡ªåŠ¨èŠ¯ç‰‡æ£€æµ‹</strong> - æ— éœ€æ‰‹åŠ¨é€‰æ‹©å…·ä½“å‹å·</li>
            <li><strong>æ™ºèƒ½æ³¢ç‰¹ç‡</strong> - è‡ªåŠ¨ä¼˜åŒ–åˆ°921600bpsæé«˜ä¼ è¾“é€Ÿåº¦</li>
            <li><strong>å®æ—¶è¿›åº¦</strong> - ç²¾ç¡®çš„ä¸‹è½½è¿›åº¦æ˜¾ç¤º</li>
            <li><strong>èŠ¯ç‰‡ä¿¡æ¯æ˜¾ç¤º</strong> - MACåœ°å€ã€èŠ¯ç‰‡ç‰¹æ€§ã€Flashå¤§å°ç­‰</li>
            <li><strong>é”™è¯¯å¤„ç†</strong> - å®Œå–„çš„é”™è¯¯æç¤ºå’Œæ¢å¤æœºåˆ¶</li>
        </ul>

        <h3>ğŸ”§ æ”¯æŒçš„èŠ¯ç‰‡å‹å·ï¼š</h3>
        <ul>
            <li>ESP32 (åŸç‰ˆ)</li>
            <li>ESP32-S2</li>
            <li>ESP32-S3</li>
            <li>ESP32-C3</li>
            <li>ESP32-C6</li>
            <li>ESP32-H2</li>
        </ul>

        <h3>ğŸ“‹ ä¸»è¦æ¥å£ï¼š</h3>
        <div class="code-block">// åˆ›å»ºä¸‹è½½å™¨å®ä¾‹
const downloader = new ESP32SeriesDownloader(serialPort, debugCallback);

// åˆå§‹åŒ–å¹¶æ£€æµ‹èŠ¯ç‰‡
await downloader.initialize();

// è·å–èŠ¯ç‰‡ä¿¡æ¯
const chipInfo = downloader.getChipInfo();

// ä¸‹è½½å›ºä»¶
await downloader.downloadBinary(binaryData, address);

// æ“¦é™¤Flash
await downloader.eraseFlash();

// æ¸…ç†èµ„æº
await downloader.cleanup();</div>
    </div>

    <div class="section">
        <h2>è°ƒè¯•å’Œæ•…éšœæ’é™¤</h2>
        
        <h3>å¸¸è§é—®é¢˜ï¼š</h3>
        <ol>
            <li><strong>ESPLoaderæœªå®šä¹‰</strong> - æ£€æŸ¥esptool-jsæ˜¯å¦æ­£ç¡®åŠ è½½</li>
            <li><strong>ä¸²å£è¿æ¥å¤±è´¥</strong> - ç¡®ä¿è®¾å¤‡æ­£ç¡®è¿æ¥ä¸”ä¸²å£æœªè¢«å ç”¨</li>
            <li><strong>èŠ¯ç‰‡æ£€æµ‹å¤±è´¥</strong> - æ£€æŸ¥è®¾å¤‡æ˜¯å¦è¿›å…¥ä¸‹è½½æ¨¡å¼</li>
        </ol>

        <h3>è°ƒè¯•æŠ€å·§ï¼š</h3>
        <div class="code-block">// åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ£€æŸ¥esptool-jsæ˜¯å¦åŠ è½½
console.log(typeof ESPLoader); // åº”è¯¥è¾“å‡º "function"

// å¯ç”¨è¯¦ç»†æ—¥å¿—
const downloader = new ESP32SeriesDownloader(port, (info) => {
    console.log('[ESP32-Series]', info);
});</div>
    </div>

    <div class="section">
        <h2>åç»­ä¼˜åŒ–å»ºè®®</h2>
        
        <ul>
            <li><strong>åˆ†åŒºè¡¨æ”¯æŒ</strong> - æ”¯æŒå¤šä¸ªåˆ†åŒºçš„æ‰¹é‡ä¸‹è½½</li>
            <li><strong>å›ºä»¶éªŒè¯</strong> - ä¸‹è½½åçš„æ ¡éªŒå’ŒéªŒè¯</li>
            <li><strong>èŠ¯ç‰‡é‡å¯</strong> - ä¸‹è½½å®Œæˆåè‡ªåŠ¨é‡å¯è®¾å¤‡</li>
            <li><strong>è¿›åº¦ä¼˜åŒ–</strong> - æ›´ç²¾ç»†çš„è¿›åº¦æ˜¾ç¤ºå’Œæ—¶é—´ä¼°è®¡</li>
            <li><strong>æœ¬åœ°åŒ–</strong> - esptool-jsé”™è¯¯ä¿¡æ¯çš„ä¸­æ–‡ç¿»è¯‘</li>
        </ul>
    </div>

    <script>
        // ç¤ºä¾‹ä»£ç ï¼šæ£€æŸ¥esptool-jsæ˜¯å¦æ­£ç¡®åŠ è½½
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof ESPLoader !== 'undefined') {
                console.log('âœ… esptool-jså·²æ­£ç¡®åŠ è½½');
            } else {
                console.error('âŒ esptool-jsæœªåŠ è½½ï¼Œè¯·æ£€æŸ¥CDNè¿æ¥');
            }
        });
    </script>
</body>
</html> 