##
当前index.html 下的 固件烧录table页面中，有个 完成烧录后自动断开串口功能，这个功能的意思是如果勾选了这个功能，
完成烧录后会自动断开当前连接的串口。这样别的应用就可以使用这个串口了。默认不勾选。

目前测试这个功能有bug，即使我勾选了这个功能，我下载完成了之后，也没有自动断开串口。

你深度思考，读取所有当前项目下的相关代码，帮我解决这个问题，必须保证不能破坏其他无关功能的代码


##
自动断开串口已经可以正常使用了，感谢你帮我修改。
我现在需要你帮我加入自动保存勾选这个 “完成烧录后自动断开串口” 状态，我勾选了这个功能的时候，即使我刷新页面之后，这个功能还是勾选的。如果我没有勾选，刷新后还是未勾选。
深度思考，只能修改这个功能相关代码

##
现在的固件烧录功能有bug：
当我目标设备选择 ESP32-Series 的时候，当固件下载完成，已经显示 “固件下载完成，设备已重启”，结束烧录 按钮状态还是可以点击状态， 开始烧录 安装状态还是禁止点击，这个是不对的。

我要求的是和 T5AI 一样，当固件下载完成后 自动切换按钮状态，结束烧录 按钮状态是禁止点击，开始烧录 按钮状态是点击状态。

同时根据 “完成烧录后自动断开串口” 状态，来决定是否要自动断开串口，这个功能已经有了，要在ESP32-Series 也可以有效果。

现在你深度思考，帮我解决这个问题，只能修改这个功能相关代码。