# Protobuf 可视化工具

一个功能强大的 Protocol Buffers (Protobuf) 可视化和编辑工具，提供直观的界面来定义、编辑和查看 Protobuf 数据。

## 🚀 功能特性

### 📝 Schema 编辑
- **语法高亮**: 支持 .proto 文件语法
- **实时验证**: 即时检查 Schema 语法错误
- **自动格式化**: 一键格式化 Proto 定义
- **示例加载**: 内置丰富的示例 Schema

### 🔍 数据可视化
- **可视化编辑**: 图形化界面编辑 Protobuf 数据
- **JSON 视图**: 以 JSON 格式查看和编辑数据
- **二进制查看**: 十六进制转储显示编码后的二进制数据
- **类型支持**: 支持所有 Protobuf 基础类型

### 🛠️ 高级功能
- **重复字段**: 完整支持 repeated 字段的添加/删除
- **嵌套消息**: 支持复杂的嵌套消息结构
- **枚举类型**: 支持枚举字段的选择
- **数据生成**: 自动生成示例数据

### 💾 文件操作
- **导入文件**: 支持 .proto 和 .json 文件导入
- **导出 Schema**: 导出 .proto 文件
- **导出二进制**: 导出编码后的 .pb 二进制文件
- **复制功能**: 一键复制二进制数据

### 🎨 用户界面
- **响应式设计**: 适配各种屏幕尺寸
- **面板折叠**: 可折叠面板最大化工作区域
- **快捷键**: 支持键盘快捷键操作
- **实时通知**: 操作状态实时反馈

## 📖 使用指南

### 1. 定义 Schema
在左侧编辑器中输入或粘贴 .proto 文件内容：

```protobuf
syntax = "proto3";

message Person {
  string name = 1;
  int32 id = 2;
  string email = 3;
  repeated string phone = 4;
}
```

### 2. 选择消息类型
Schema 解析成功后，在右侧面板顶部的下拉菜单中选择要编辑的消息类型。

### 3. 编辑数据
- **可视化编辑**: 在表单中直接输入数据
- **JSON 编辑**: 切换到 JSON 标签页进行文本编辑
- **二进制查看**: 查看编码后的二进制数据

### 4. 文件操作
- 点击 "📁 导入文件" 导入现有的 .proto 或 .json 文件
- 点击 "💾 导出.proto" 保存 Schema 定义
- 点击 "📦 导出二进制" 保存编码后的数据

## 🎯 支持的数据类型

### 基础类型
- `string` - 字符串
- `int32`, `int64` - 有符号整数
- `uint32`, `uint64` - 无符号整数
- `float`, `double` - 浮点数
- `bool` - 布尔值
- `bytes` - 字节数组

### 复合类型
- `repeated` - 重复字段（数组）
- `message` - 嵌套消息
- `enum` - 枚举类型
- `oneof` - 联合类型

## ⌨️ 快捷键

- `Ctrl + Tab` - 切换面板焦点
- `Ctrl + S` - 保存当前内容（浏览器下载）
- `Ctrl + O` - 打开文件导入对话框

## 🔧 面板操作

### 折叠面板
- 点击面板标题栏的 "◄ 折叠" 或 "折叠 ►" 按钮
- 折叠后会在屏幕边缘显示展开按钮
- 点击 "🔄 恢复面板" 按钮恢复默认布局

### 标签页切换
右侧面板包含三个标签页：
1. **可视化编辑** - 表单式数据编辑
2. **JSON 格式** - 文本格式编辑
3. **二进制查看** - 十六进制数据显示

## 🌟 示例数据

工具内置了丰富的示例数据，包括：
- 用户信息 (Person)
- 地址信息 (Address)
- 公司信息 (Company)
- 产品信息 (Product)
- 订单信息 (Order)
- 统计数据 (Statistics)

点击 "📄 加载示例" 按钮即可加载示例 Schema。

## 🔍 二进制编码

工具提供了 Protobuf 二进制编码的可视化：
- **十六进制显示**: 以十六进制格式显示编码数据
- **ASCII 预览**: 显示可打印字符的 ASCII 表示
- **字节统计**: 显示编码后的数据大小
- **复制功能**: 一键复制十六进制数据

## 🎨 界面特色

- **渐变背景**: 优雅的紫色渐变设计
- **毛玻璃效果**: 现代化的半透明元素
- **平滑动画**: 流畅的过渡动画效果
- **响应式布局**: 完美适配移动设备

## 🚀 技术实现

- **纯前端**: 无需服务器，完全在浏览器中运行
- **实时解析**: 即时解析和验证 Proto Schema
- **内存编码**: 在浏览器中模拟 Protobuf 编码
- **现代 Web**: 使用最新的 Web API 和 ES6+ 特性

## 📝 注意事项

1. 这是一个演示工具，编码实现可能与官方 Protobuf 库有差异
2. 复杂的嵌套消息和 oneof 类型支持有限
3. 建议在生产环境中使用官方 Protobuf 编译器
4. 大型 Schema 文件可能影响性能

## 🔗 相关链接

- [Protocol Buffers 官方文档](https://developers.google.com/protocol-buffers)
- [Proto3 语法指南](https://developers.google.com/protocol-buffers/docs/proto3)
- [Protobuf GitHub](https://github.com/protocolbuffers/protobuf)

---

**享受高效的 Protobuf 开发体验！** 🎉 